# Default values for linktree application

# Environment (dev, staging, prod)
environment: production

# Backend (API)
backend:
  enabled: true
  replicaCount: 3

  image:
    repository: ghcr.io/periclesanfe/linktree-backend
    pullPolicy: IfNotPresent
    tag: ""

  service:
    type: ClusterIP
    port: 8000

  config:
    nodeEnv: production
    corsOrigin: "*"
    port: 8000

  database:
    host: "linktree-infrastructure-postgresql-rw"
    port: "5432"
    database: "linktree_db"
    user: "linktree_user"
    credentialsSecret: "linktree-postgres-credentials"

  auth:
    jwtSecretName: "linktree-secrets"
    jwtSecretKey: "JWT_SECRET"

  resources:
    limits:
      cpu: 500m
      memory: 512Mi
    requests:
      cpu: 250m
      memory: 256Mi

  autoscaling:
    enabled: false
    minReplicas: 2
    maxReplicas: 10
    targetCPUUtilizationPercentage: 70

# Frontend (SPA)
frontend:
  enabled: true
  replicaCount: 3

  image:
    repository: ghcr.io/periclesanfe/linktree-frontend
    pullPolicy: IfNotPresent
    tag: ""

  service:
    type: ClusterIP
    port: 80

  config:
    apiUrl: "http://linktree-backend:8000"

  resources:
    limits:
      cpu: 200m
      memory: 256Mi
    requests:
      cpu: 100m
      memory: 128Mi

  autoscaling:
    enabled: false
    minReplicas: 2
    maxReplicas: 10
    targetCPUUtilizationPercentage: 70
