{{- $fullName := include "linktree.fullname" . -}}
{{- $backendSvcPort := .Values.backend.service.port -}}
{{- $frontendSvcPort := .Values.frontend.service.port -}}

â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
   ___       ___   ___   _  __  _____  ____   ____  ____
  / / |     |_ _| | \ | ||  |/ / |_   _||  _ \ | ___||  __|
 / /| |      | |  |  \| || . /    | |  | |_) || |_  | |_
/ / | |___  | |  | |\  || . \    | |  |  _ < |  _| |  _|
/_/  |_____||___| |_| \_||_|\_\   |_|  |_| \_\|____||____|

â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ

ðŸŽ‰ Linktree foi instalado com sucesso!

ðŸ“Š InformaÃ§Ãµes da InstalaÃ§Ã£o:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

  â€¢ Release Name:   {{ .Release.Name }}
  â€¢ Namespace:      {{ .Release.Namespace }}
  â€¢ Environment:    {{ .Values.environment }}
  â€¢ Chart Version:  {{ .Chart.Version }}
  â€¢ App Version:    {{ .Chart.AppVersion }}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ðŸ”§ Componentes Instalados:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

  Backend (API):
    â€¢ Image:    {{ .Values.backend.image.repository }}:{{ .Values.backend.image.tag | default .Chart.AppVersion }}
    â€¢ Replicas: {{ .Values.backend.replicaCount }}
    â€¢ Service:  {{ $fullName }}-backend:{{ $backendSvcPort }}

  Frontend (UI):
    â€¢ Image:    {{ .Values.frontend.image.repository }}:{{ .Values.frontend.image.tag | default .Chart.AppVersion }}
    â€¢ Replicas: {{ .Values.frontend.replicaCount }}
    â€¢ Service:  {{ $fullName }}-frontend:{{ $frontendSvcPort }}

  Database:
    â€¢ Host:     {{ .Values.database.host }}:{{ .Values.database.port }}
    â€¢ Database: {{ .Values.database.database }}
    {{- if .Values.database.migration.enabled }}
    â€¢ Migration: âœ… Enabled (Sync Wave -1)
    {{- end }}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ðŸŒ Acesso Ã  AplicaÃ§Ã£o:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

{{- if .Values.ingress.enabled }}
{{- range $host := .Values.ingress.hosts }}
  ðŸ”— https://{{ $host.host }}
{{- end }}

  Para acessar via Ingress, certifique-se de que o DNS esteja configurado.

{{- else }}

  O Ingress nÃ£o estÃ¡ habilitado. Para acessar a aplicaÃ§Ã£o:

  1. Via Port-Forward (Frontend):

     kubectl port-forward -n {{ .Release.Namespace }} svc/{{ $fullName }}-frontend {{ $frontendSvcPort }}:{{ $frontendSvcPort }}

     Em seguida, acesse: http://localhost:{{ $frontendSvcPort }}

  2. Via Port-Forward (Backend):

     kubectl port-forward -n {{ .Release.Namespace }} svc/{{ $fullName }}-backend {{ $backendSvcPort }}:{{ $backendSvcPort }}

     Em seguida, acesse: http://localhost:{{ $backendSvcPort }}/api

  3. Habilitar Ingress:

     Edite values.yaml e defina ingress.enabled=true, entÃ£o execute:
     
     helm upgrade {{ .Release.Name }} . -f values.yaml -n {{ .Release.Namespace }}

{{- end }}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ðŸ“‹ PrÃ³ximos Passos:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

  1. Verificar status dos pods:
     
     kubectl get pods -n {{ .Release.Namespace }} -l app.kubernetes.io/instance={{ .Release.Name }}

  2. Acompanhar logs do backend:
     
     kubectl logs -n {{ .Release.Namespace }} -l app.kubernetes.io/component=backend -f

  3. Verificar o Job de migraÃ§Ã£o do banco:
     
     kubectl get jobs -n {{ .Release.Namespace }} -l app.kubernetes.io/component=db-migration
     kubectl logs -n {{ .Release.Namespace }} -l app.kubernetes.io/component=db-migration

  4. Verificar eventos:
     
     kubectl get events -n {{ .Release.Namespace }} --sort-by='.lastTimestamp'

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âš™ï¸  Comandos Ãšteis:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

  â€¢ Upgrade:
    helm upgrade {{ .Release.Name }} . -f values.yaml -n {{ .Release.Namespace }}

  â€¢ Rollback:
    helm rollback {{ .Release.Name }} -n {{ .Release.Namespace }}

  â€¢ Status:
    helm status {{ .Release.Name }} -n {{ .Release.Namespace }}

  â€¢ History:
    helm history {{ .Release.Name }} -n {{ .Release.Namespace }}

  â€¢ Uninstall:
    helm uninstall {{ .Release.Name }} -n {{ .Release.Namespace }}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

{{- if eq .Values.environment "production" }}
âš ï¸  ATENÃ‡ÃƒO - AMBIENTE DE PRODUÃ‡ÃƒO:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

  â€¢ Certifique-se de que as credenciais do banco estÃ£o seguras
  â€¢ Verifique se os certificados SSL estÃ£o configurados
  â€¢ Configure backups regulares do banco de dados
  â€¢ Monitore logs e mÃ©tricas
  â€¢ Configure alertas para falhas

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
{{- end }}

ðŸ“š DocumentaÃ§Ã£o:
   Consulte helm/README.md para mais informaÃ§Ãµes

ðŸ› Problemas?
   https://github.com/periclesanfe/linktree/issues

â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
Happy Coding! ðŸš€
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
