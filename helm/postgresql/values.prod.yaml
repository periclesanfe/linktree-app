# Production environment values for PostgreSQL

environment: production

cluster:
  name: linktree-prod-postgresql
  instances: 3  # High availability with 3 replicas

  storage:
    size: 10Gi
    storageClass: ""  # Use manual PV binding instead of dynamic provisioning

  bootstrap:
    database: linktree_db
    owner: linktree_prod_user

  resources:
    requests:
      cpu: 500m
      memory: 1Gi
    limits:
      cpu: 2000m
      memory: 2Gi

credentials:
  secretName: linktree-secrets
  username: linktree_prod_user
  password: prod_password_change_me
  jwtSecret: prod_jwt_secret_change_me

# Enable static PV with initContainer for permission fix
persistentVolume:
  enabled: true
  name: pv-prod-postgresql-1
  storageClass: ""  # Empty for manual binding
  capacity: 10Gi
  reclaimPolicy: Delete
  hostPath: /tmp/pv-prod-postgresql-1
